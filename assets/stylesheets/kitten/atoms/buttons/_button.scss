/// Setup a button element.
///
/// This mixin will setup an element to look like a button.
///
/// Vertical paddings depend on the vertical-rhythm and horizontal paddings
/// depend on the font-size.
///
/// k-Button--icon is different to k-ButtonIcon. This class only used on
/// button-icon-words.
/// - `.k-Button--icon`
///
/// Available color modifiers:
/// - `.k-Button--default`
/// - `.k-Button--primary`
/// - `.k-Button--secondary`
/// - `.k-Button--secondaryOnWhite`
///
/// Available size modifiers:
/// - `.k-Button--tiny`
/// - `.k-Button--big`
///
/// Available size modifiers for icon:
/// - `.k-Button--iconTiny`
/// - `.k-Button--iconBig`
///
/// @group buttons
///
/// @example scss button - Usage
///   @include k-Button;
///
/// @example scss button icon words - Usage
///   @include k-Button;
///
/// @example html
///  <button class="k-Button k-Button--default">My button</button>
///
/// @example html
///  <button class="k-Button
///                 k-Button--default
///                 k-Button--icon">
///    <svg class="k-Button__icon" â€¦ /></svg>
///    My button
///  </button>

@mixin k-Button {
  $font: 'source-sans-semi-bold-uppercase';
  $border-size: 1px;

  // Colors.
  $default-colors: (
    base: (
      color: map-get($k-colors, 'font-1'),
      border-color: map-get($k-colors, 'line-2'),
      background-color: #fff,
    ),
    hover: (
      color: #fff,
      border-color: map-get($k-colors, 'primary-1'),
      background-color: map-get($k-colors, 'primary-1'),
    ),
    focus: (
      color: #fff,
      border-color: map-get($k-colors, 'primary-1'),
      background-color: map-get($k-colors, 'primary-1'),
    ),
    active: (
      color: #fff,
      border-color: map-get($k-colors, 'primary-3'),
      background-color: map-get($k-colors, 'primary-3'),
    ),
    is-selected: (
      color: #fff,
      border-color: map-get($k-colors, 'primary-3'),
      background-color: map-get($k-colors, 'primary-3'),
    ),
    disabled: (
      color: #fff,
      border-color: map-get($k-colors, 'line-2'),
      background-color: map-get($k-colors, 'line-2'),
    ),
  );

  $primary-colors: (
    base: (
      color: #fff,
      border-color: map-get($k-colors, 'primary-1'),
      background-color: map-get($k-colors, 'primary-1'),
    ),
    hover: (
      color: #fff,
      border-color: map-get($k-colors, 'primary-2'),
      background-color: map-get($k-colors, 'primary-2'),
    ),
    focus: (
      color: #fff,
      border-color: map-get($k-colors, 'primary-2'),
      background-color: map-get($k-colors, 'primary-2'),
    ),
    active: (
      color: #fff,
      border-color: map-get($k-colors, 'primary-3'),
      background-color: map-get($k-colors, 'primary-3'),
    ),
    is-selected: (
      color: #fff,
      border-color: map-get($k-colors, 'primary-3'),
      background-color: map-get($k-colors, 'primary-3'),
    ),
    disabled: (
      color: #fff,
      border-color: map-get($k-colors, 'line-2'),
      background-color: map-get($k-colors, 'line-2'),
    ),
  );

  $secondary-colors: (
    base: (
      color: map-get($k-colors, 'primary-1'),
      border-color: map-get($k-colors, 'primary-4'),
      background-color: #fff,
    ),
    hover: (
      color: #fff,
      border-color: map-get($k-colors, 'primary-2'),
      background-color: map-get($k-colors, 'primary-2'),
    ),
    focus: (
      color: #fff,
      border-color: map-get($k-colors, 'primary-2'),
      background-color: map-get($k-colors, 'primary-2'),
    ),
    active: (
      color: #fff,
      border-color: map-get($k-colors, 'primary-3'),
      background-color: map-get($k-colors, 'primary-3'),
    ),
    is-selected: (
      color: #fff,
      border-color: map-get($k-colors, 'primary-3'),
      background-color: map-get($k-colors, 'primary-3'),
    ),
    disabled: (
      color: #fff,
      border-color: map-get($k-colors, 'line-2'),
      background-color: map-get($k-colors, 'line-2'),
    ),
  );

  $secondary-on-white-colors: (
    base: (
      color: map-get($k-colors, 'primary-1'),
      border-color: map-get($k-colors, 'primary-4'),
      background-color: map-get($k-colors, 'primary-5'),
    ),
    hover: (
      color: #fff,
      border-color: map-get($k-colors, 'primary-2'),
      background-color: map-get($k-colors, 'primary-2'),
    ),
    focus: (
      color: #fff,
      border-color: map-get($k-colors, 'primary-2'),
      background-color: map-get($k-colors, 'primary-2'),
    ),
    active: (
      color: #fff,
      border-color: map-get($k-colors, 'primary-3'),
      background-color: map-get($k-colors, 'primary-3'),
    ),
    is-selected: (
      color: #fff,
      border-color: map-get($k-colors, 'primary-3'),
      background-color: map-get($k-colors, 'primary-3'),
    ),
    disabled: (
      color: #fff,
      border-color: map-get($k-colors, 'line-2'),
      background-color: map-get($k-colors, 'line-2'),
    ),
  );

  // Size settings button.
  $button-min-width: k-px-to-rem(160px - ($border-size * 2));
  $button-line-height: k-px-to-rem(40px - ($border-size * 2));

  $button-big-min-width: k-px-to-rem(200px - ($border-size * 2));
  $button-big-line-height: k-px-to-rem(50px - ($border-size * 2));

  $button-size-tiny: 30px - ($border-size * 2);
  $button-size: 40px - ($border-size * 2);
  $button-size-big: 50px - ($border-size * 2);

  // Size settings button icon words.
  // Button icon with words element tiny settings.
  $button-icon-words-tiny-min-width: k-px-to-rem(78px - ($border-size * 2));
  $button-icon-words-tiny-line-height: k-px-to-rem(30px - ($border-size * 2));

  // Button icon with words element default settings.
  $button-icon-words-min-width: k-px-to-rem(110px - ($border-size * 2));
  $button-icon-words-line-height: k-px-to-rem(40px - ($border-size * 2));

  // Button icon with words element big settings.
  $button-icon-words-big-min-width: k-px-to-rem(130px - ($border-size * 2));
  $button-icon-words-big-line-height: k-px-to-rem(50px - ($border-size * 2));

  // The button element has a radius of 1.5rem (
  //   20px (designed border-radius) / 16px (base font-size)).
  $button-tiny-radius: 2.5rem;
  $button-radius: 1.5rem;
  $button-big-radius: 1.56rem;

  // Horizontal padding all button's type.
  $button-padding: 1.25rem;

  // Button font-size is computed using a modular scale and a defined step of this
  // scale.
  $button-step: -2;

  // SVG element default settings.
  $icon-width: k-px-to-rem(12px);
  $icon-height: k-px-to-rem(14px);

  $transition-speed: .2s;

  .k-Button {
    @include k-buttonBase;
    @include k-typographyFontSize($button-step, $button-line-height);
    @include k-typographyFont($font);

    padding: 0 $button-radius * 2;
    border-radius: $button-radius;
    min-width: $button-min-width;

    text-decoration: none;
  }

  .k-Button--icon {
    display: flex;

    padding: 0 $button-padding 0 0;
    min-width: $button-icon-words-min-width;

    .k-Button__icon {
      @include k-buttonRounded($button-size, $icon-width, $icon-height);

      display: block;
      width: $icon-width;
      height: $icon-height;
      transition: fill $transition-speed;

      .k-Button__icon__stroke {
        transition: stroke $transition-speed;
      }
    }
  }

  .k-Button--iconRight {
    padding: 0 0 0 $button-radius;
  }

  // Colors modifiers.

  .k-Button--default {
    @include k-buttonColorBase($default-colors);
  }

  .k-Button--primary {
    @include k-buttonColorBase($primary-colors);
  }

  .k-Button--secondary {
    @include k-buttonColorBase($secondary-colors);
  }

  .k-Button--secondaryOnWhite {
    @include k-buttonColorBase($secondary-on-white-colors);
  }

  .k-Button__icon {
    @include k-buttonSvg(
      $default-colors,
      'k-Button--default',
      'k-Button__svg__stroke'
    );

    @include k-buttonSvg(
      $primary-colors,
      'k-Button--primary',
      'k-Button__svg__stroke'
    );

    @include k-buttonSvg(
      $secondary-colors,
      'k-Button--secondary',
      'k-Button__svg__stroke'
    );

    @include k-buttonSvg(
      $secondary-on-white-colors,
      'k-Button--secondaryOnWhite',
      'k-Button__svg__stroke'
    );
  }

  // Size modifiers.

  .k-Button--big {
    @include k-typographyFontSize($button-step, $button-big-line-height);

    padding: 0 $button-big-radius;
    border-radius: $button-big-radius;
    min-width: $button-big-min-width;
  }

  .k-Button--iconTiny {
    @include k-typographyFontSize(
      $button-step,
      $button-icon-words-tiny-line-height
    );

    min-width: $button-icon-words-tiny-min-width;

    .k-Button__icon {
      @include k-buttonRounded($button-size-tiny, $icon-width, $icon-height);
    }
  }

  .k-Button--iconBig {
    @include k-typographyFontSize(
      $button-step,
      $button-icon-words-big-line-height
    );

    min-width: $button-icon-words-big-min-width;

    .k-Button__icon {
      @include k-buttonRounded($button-size-big, $icon-width, $icon-height);
    }
  }
}
