/// Setup a button element.
///
/// This mixin will setup an element to look like a button.
///
/// Vertical paddings depend on the vertical-rhythm and horizontal paddings
/// depend on the font-size.
///
/// Available color modifiers:
/// - `.k-ButtonIcon--default`
/// - `.k-ButtonIcon--primary`
/// - `.k-ButtonIcon--secondary`
/// - `.k-ButtonIcon--secondaryOnWhite`
///
/// Available size modifiers:
/// - `.k-ButtonIcon--big`
///
/// @group buttons
///
/// @example scss button - Usage
///   @include k-Button;
///
/// @example html
///  <button class="k-Button k-Button--default">My button</button>

@mixin k-Button {
  $font: 'source-sans-semi-bold-uppercase';
  $border-size: 1px;

  // Size settings.
  $button-min-width: k-px-to-rem(160px - ($border-size * 2));
  $button-line-height: k-px-to-rem(40px - ($border-size * 2));
  $button-big-min-width: k-px-to-rem(200px - ($border-size * 2));
  $button-big-line-height: k-px-to-rem(50px - ($border-size * 2));

  // Colors.
  $default-colors: (
    base: (
      color: map-get($k-colors, 'font-1'),
      border-color: map-get($k-colors, 'line-2'),
      background-color: #fff,
    ),
    hover: (
      color: #fff,
      border-color: map-get($k-colors, 'primary-1'),
      background-color: map-get($k-colors, 'primary-1'),
    ),
    focus: (
      color: #fff,
      border-color: map-get($k-colors, 'primary-1'),
      background-color: map-get($k-colors, 'primary-1'),
    ),
    active: (
      color: #fff,
      border-color: map-get($k-colors, 'primary-3'),
      background-color: map-get($k-colors, 'primary-3'),
    ),
    is-selected: (
      color: #fff,
      border-color: map-get($k-colors, 'primary-3'),
      background-color: map-get($k-colors, 'primary-3'),
    ),
    disabled: (
      color: #fff,
      border-color: map-get($k-colors, 'line-2'),
      background-color: map-get($k-colors, 'line-2'),
    ),
  );

  $primary-colors: (
    base: (
      color: #fff,
      border-color: map-get($k-colors, 'primary-1'),
      background-color: map-get($k-colors, 'primary-1'),
    ),
    hover: (
      color: #fff,
      border-color: map-get($k-colors, 'primary-2'),
      background-color: map-get($k-colors, 'primary-2'),
    ),
    focus: (
      color: #fff,
      border-color: map-get($k-colors, 'primary-2'),
      background-color: map-get($k-colors, 'primary-2'),
    ),
    active: (
      color: #fff,
      border-color: map-get($k-colors, 'primary-3'),
      background-color: map-get($k-colors, 'primary-3'),
    ),
    is-selected: (
      color: #fff,
      border-color: map-get($k-colors, 'primary-3'),
      background-color: map-get($k-colors, 'primary-3'),
    ),
    disabled: (
      color: #fff,
      border-color: map-get($k-colors, 'line-2'),
      background-color: map-get($k-colors, 'line-2'),
    ),
  );

  $secondary-colors: (
    base: (
      color: map-get($k-colors, 'primary-1'),
      border-color: map-get($k-colors, 'primary-4'),
      background-color: #fff,
    ),
    hover: (
      color: #fff,
      border-color: map-get($k-colors, 'primary-2'),
      background-color: map-get($k-colors, 'primary-2'),
    ),
    focus: (
      color: #fff,
      border-color: map-get($k-colors, 'primary-2'),
      background-color: map-get($k-colors, 'primary-2'),
    ),
    active: (
      color: #fff,
      border-color: map-get($k-colors, 'primary-3'),
      background-color: map-get($k-colors, 'primary-3'),
    ),
    is-selected: (
      color: #fff,
      border-color: map-get($k-colors, 'primary-3'),
      background-color: map-get($k-colors, 'primary-3'),
    ),
    disabled: (
      color: #fff,
      border-color: map-get($k-colors, 'line-2'),
      background-color: map-get($k-colors, 'line-2'),
    ),
  );

  $secondary-on-white-colors: (
    base: (
      color: map-get($k-colors, 'primary-1'),
      border-color: map-get($k-colors, 'primary-4'),
      background-color: map-get($k-colors, 'primary-5'),
    ),
    hover: (
      color: #fff,
      border-color: map-get($k-colors, 'primary-2'),
      background-color: map-get($k-colors, 'primary-2'),
    ),
    focus: (
      color: #fff,
      border-color: map-get($k-colors, 'primary-2'),
      background-color: map-get($k-colors, 'primary-2'),
    ),
    active: (
      color: #fff,
      border-color: map-get($k-colors, 'primary-3'),
      background-color: map-get($k-colors, 'primary-3'),
    ),
    is-selected: (
      color: #fff,
      border-color: map-get($k-colors, 'primary-3'),
      background-color: map-get($k-colors, 'primary-3'),
    ),
    disabled: (
      color: #fff,
      border-color: map-get($k-colors, 'line-2'),
      background-color: map-get($k-colors, 'line-2'),
    ),
  );

  // The button element has a radius of 1.25rem (
  //   20px (designed border-radius) / 16px (base font-size)
  // ). The horizontal paddings are computed using this radius.
  $button-radius: 1.25rem;
  $button-big-radius: 1.56rem;

  // Button font-size is computed using a modular scale and a defined step of this
  // scale.
  $button-step: -2;

  // SVG element default settings.
  $icon-width: k-px-to-rem(12px);
  $icon-height: k-px-to-rem(14px);

  .k-Button {
    @include k-buttonBase;
    @include k-typographyFontSize($button-step, $button-line-height);
    @include k-typographyFont($font);

    padding: 0 $button-radius * 2;
    border-radius: $button-radius;
    min-width: $button-min-width;

    text-decoration: none;
    text-align: center;
  }

  .k-Button__svg {
    width: $icon-width;
    height: $icon-height;
  }

  // Colors modifiers.

  .k-Button--default {
    @include k-buttonColorBase($default-colors);

    .k-Button__svg {
      @include k-buttonSvg(
        $default-colors,
        'k-Button',
        'k-Button__svg__stroke'
      );
    }
  }

  .k-Button--primary {
    @include k-buttonColorBase($primary-colors);

    .k-Button__svg {
      @include k-buttonSvg(
        $primary-colors,
        'k-Button--primary',
        'k-Button__svg__stroke'
      );
    }
  }

  .k-Button--secondary {
    @include k-buttonColorBase($secondary-colors);

    .k-Button__svg {
      @include k-buttonSvg(
        $secondary-colors,
        'k-Button--secondary',
        'k-Button__svg__stroke'
      );
    }
  }

  .k-Button--secondaryOnWhite {
    @include k-buttonColorBase($secondary-on-white-colors);

    .k-Button__svg {
      @include k-buttonSvg(
        $secondary-on-white-colors,
        'k-Button--secondaryOnWhite',
        'k-Button__svg__stroke'
      );
    }
  }

  // Size modifiers.

  .k-Button--big {
    @include k-typographyFontSize($button-step, $button-big-line-height);

    padding: 0 $button-big-radius;
    border-radius: $button-big-radius;
    min-width: $button-big-min-width;
  }
}
