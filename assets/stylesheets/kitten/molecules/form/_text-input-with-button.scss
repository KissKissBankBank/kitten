/// Text input with button
///
/// @group form
///
/// @parameter {Map} $input - a input specification
///
/// @example scss - Usage
///
/// @include k-TextInputWithButton((
///   font: 'source-sans-semi-bold',
///   font-size: -4,
///   color: #fff,
///   colors: (
///     button: (
///       background: #4a84ff,
///     ),
///     is-valid: (
///       background: #70c050,
///     ),
///     is-error: (
///       background: #ff4146,
///     )
///   )
/// ));
///

@mixin k-TextInputWithButton($input) {

  $font: k-string-definition(k-map-fetch($input, 'font'));
  $font-size: k-number-definition(k-map-fetch($input, 'font-size'));
  $color: k-color-definition(k-map-fetch($input, 'color'));

  // Button
  $background: k-color-definition(
    k-map-fetch($input, ('colors', 'button', 'background')));

// Valid
  $background-is-valid: k-color-definition(
    k-map-fetch($input, ('colors', 'is-valid', 'background')));

  // Valid
  $background-is-error: k-color-definition(
    k-map-fetch($input, ('colors', 'is-error', 'background')));

  .k-TextInputWithButton {
    display: inline-flex;
    position: relative;
  }

  .k-TextInputWithButton__input {
    padding-right: k-px-to-rem(86px);
  }

  .k-TextInputWithButton__submit {
    @include k-typographyFont($font);
    @include k-typographyFontSize($font-size);

    position: absolute;
    right: 0;

    height: 100%;
    width: k-px-to-rem(86px);

    background-color: $background;
    border-radius: 4px;
    border: none;

    text-transform: uppercase;
    letter-spacing: k-px-to-rem(1px);
    color: $color;

    cursor: pointer;

    &.is-valid {
      background-color: $background-is-valid;
    }

    &.is-error {
      background-color: $background-is-error;
    }
  }
}
