<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<title>Kitten style guide</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<%= webpack_stylesheet_tags(Kitten.configuration.webpack_entry_point) %>
<%= stylesheet_link_tag 'https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600' %>
<%= stylesheet_link_tag 'https://fonts.googleapis.com/css?family=Dosis' %>

<%= csrf_meta_tags %>

<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.34/browser.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-polyfill/6.13.0/polyfill.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.3.0/react.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.3.0/react-dom.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/classnames/2.2.5/index.min.js"></script>

<!-- React Select dependencies -->
<script src="https://unpkg.com/react-input-autosize/dist/react-input-autosize.js"></script>
<script src="https://unpkg.com/react-select/dist/react-select.js"></script>

<%# JavaScript included in head because of the style guide's script tags %>
<%= javascript_include_tag 'dummy', type: 'text/babel' %>

</head>
<body>

<% if @menu_types || controller_name == "branding" %>
  <div class="karl-Menu" data-karl-menu>
    <div class="karl-Menu__header">
      <a data-karl-menu-toggle="true" class="karl-Menu__title">menu</a>
      <h3 class="karl-Menu__header__title">Styleguide <strong>KissKiss&amp;Co</strong></h3>
      <div class="k-u-clearfix"></div>
    </div>

    <nav class="karl-Menu__content">
      <div class="k-u-clearfix"></div>

      <%= link_to "Branding", branding_path, class: "karl-Menu__listTitle" %>
      <% if controller_name == "branding" %>
        <ul data-karl-menu-list>
          <li class="karl-Menu__list">
          <%= link_to "KissKissBankBank", branding_path(
            anchor: "kisskiss/colors"),
            class: "karl-Menu__listItem with-arrow #{'is-opened' if
              params[:theme] == 'branding/kisskissbankbank'}" %>
            <ul class="karl-Menu__subList <%= 'is-opened' if
            params[:theme] == 'kisskissbankbank' %>">
              <li><%= link_to "Colors", branding_path(
              anchor: "kisskiss/colors"),
              class: "karl-Menu__subListItem karl-Menu__link",
              "data-karl-menu-link" => true %></li>
              <li><%= link_to "Fonts", branding_path(
              anchor: "kisskiss/fonts"),
              class: "karl-Menu__subListItem karl-Menu__link",
              "data-karl-menu-link" => true %></li>
            </ul>
          </li>
          <li class="karl-Menu__list">
          <%= link_to "hellomerci", branding_path(
          anchor: "hellomerci/colors"),
          class: "karl-Menu__listItem with-arrow #{'is-opened' if
            params[:theme] == 'hellomerci'}" %>
            <ul class="karl-Menu__subList">
              <li><%= link_to "Colors", branding_path(
              anchor: "hellomerci/colors"),
              class: "karl-Menu__subListItem karl-Menu__link",
              "data-karl-menu-link" => true %></li>
              <li><%= link_to "Fonts", branding_path(
              anchor: "hellomerci/fonts"),
              class: "karl-Menu__subListItem karl-Menu__link",
              "data-karl-menu-link" => true %></li>
            </ul>
          </li>
          <li class="karl-Menu__list">
          <%= link_to "LENDOPOLIS", branding_path(
          anchor: "lendopolis/colors"),
          class: "karl-Menu__listItem with-arrow #{'is-opened' if
           params[:theme] == 'lendopolis'}" %>
            <ul class="karl-Menu__subList">
              <li><%= link_to "Colors", branding_path(
              anchor: "lendopolis/colors"),
              class: "karl-Menu__subListItem karl-Menu__link",
              "data-karl-menu-link" => true %></li>
              <li><%= link_to "Fonts", branding_path(
              anchor: "lendopolis/fonts"),
              class: "karl-Menu__subListItem karl-Menu__link",
                "data-karl-menu-link" => true %></li>
            </ul>
          </li>
        </ul>
      <% end %>

      <%= link_to "Components", components_path, class: "karl-Menu__listTitle" %>
      <% if @menu_types %>
        <ul data-karl-menu-list>
          <% @menu_types.each do |type_id:, type_title:, groups:| %>
            <li class="karl-Menu__list">
              <a href="#<%= type_id %>"
                 class="karl-Menu__listItem"
                 <%= "with-arrow" if groups.any? %>"><%= type_title %></a>
              <ul class="karl-Menu__subList">
                <% groups.each do |group_id:, group_title:, components:| %>
                  <li>

                    <a href="#<%= group_id %>"
                    class="karl-Menu__subListItem karl-Menu__link" data-karl-menu-link
                    <%= "with-arrow" if components.any? %>"><%= group_title %></a>
                    <ul class="karl-Menu__subSecondList karl-Menu__link" data-karl-menu-link>
                      <% components.each do |component_id:, component_title:| %>
                        <li>
                          <a class="karl-Menu__subSecondListItem karl-Menu__link" data-karl-menu-link
                             href="#<%= component_id %>"><%= component_title %></a>
                        </li>
                      <% end %>
                    </ul>
                  </li>
                <% end %>
              </ul>
            </li>
          <% end %>
        </ul>
      <% end %>
    </nav>
  </div>

  <div class="karl-Header">
    <header class="karl-Header__container">
      <div class="karl-Header__content"></div>
    </header>
  </div>

  <div class="karl-Main">
    <div class="karl-Main__container">
      <section class="karl-Main__content">
        <%= yield %>
      </section>
    </div>
  </div>
<% else %>
  <%= yield %>
<% end %>

<div class="karl-OverGrid" style="display: none" data-display-shortcut="g">
  <div class="karl-OverGrid__container">
    <div class="karl-OverGrid__row">
      <div class="karl-OverGrid__col">
        <div class="karl-OverGrid__inner"></div>
      </div>
      <div class="karl-OverGrid__col">
        <div class="karl-OverGrid__inner"></div>
      </div>
      <div class="karl-OverGrid__col">
        <div class="karl-OverGrid__inner"></div>
      </div>
      <div class="karl-OverGrid__col">
        <div class="karl-OverGrid__inner"></div>
      </div>
      <div class="karl-OverGrid__col">
        <div class="karl-OverGrid__inner"></div>
      </div>
      <div class="karl-OverGrid__col">
        <div class="karl-OverGrid__inner"></div>
      </div>
      <div class="karl-OverGrid__col">
        <div class="karl-OverGrid__inner"></div>
      </div>
      <div class="karl-OverGrid__col">
        <div class="karl-OverGrid__inner"></div>
      </div>
      <div class="karl-OverGrid__col">
        <div class="karl-OverGrid__inner"></div>
      </div>
      <div class="karl-OverGrid__col">
        <div class="karl-OverGrid__inner"></div>
      </div>
      <div class="karl-OverGrid__col">
        <div class="karl-OverGrid__inner"></div>
      </div>
      <div class="karl-OverGrid__col">
        <div class="karl-OverGrid__inner"></div>
      </div>
    </div>
  </div>
</div>

<%#= javascript_include_tag 'kitten/noframework.waypoints.min.js' %>
<%= javascript_include_tag 'kitten/jquery-3.1.0.min.js' %>
<%#= javascript_include_tag 'kitten/waypoint.js' %>
<%= javascript_include_tag 'kitten/karl.js' %>

</body>
</html>
